<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../style.css" />
    <title>Document</title>
</head>
<body onload="start()" >
    <header>
        <div class="container">
            <nav>
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="./bubble_eg.html">Bubble</a></li>
                    <li><a href="./cocktail_eg.html">Cocktail</a></li>
                    <li><a href="./counting_eg.html">Counting</a></li>
                    <li><a href="./heap_eg.html">Heap</a></li>
                    <li><a href="./insertion_eg.html">Insertion</a></li>
                    <li><a href="./merge_eg.html">Merge</a></li>
                    <li><a href="./quick_eg.html">Quick</a></li>
                    <li><a href="./selection_eg.html">Selection</a></li>
                    <li><a href="./shell_eg.html">Shell</a></li>
                </ul>
            </nav>
            <select class="right" name="forma" onchange="location = this.value;">
                <option value="../../eg/sorting_eg/heap_eg.html">English</option>
                <option value="../../bg/sorting_bg/heap_bg.html">Български</option>
            </select>
        </div>
    </header>
    <br />
    <p class="header">Heap Sort</p>
    
    <div id="array"></div>
    <br />
    <br />
  
    <div id="count"></div>
    <br>
    <br>
    
    <br>
    <div class="flex-parent jc-center">
        <div class="margin-right">
            <div id="array_size">Array size</div>
            <input oninput="rangeFunction()" type="range"  class="myslider slider" id="range" value="15" min="10" max="50">
        </div>
        <button id="generate" class="custom-btn btn-1 margin-right" onclick="start()">Generate</button>
        <button id="start" class="custom-btn btn-1 margin-right" onclick="HeapSort()">Start</button>
        <div class="rangeslider">
            <div id="speed">Speed</div>
            <input type="range" min="100" max="800" value="400" class="myslider slider" id="sliderRange">
        </div>
    </div>
    <br>
    <br>
    <button id="JSbtnClick" class="custom-btn btn-1" onclick="js()">JS</button>
    <button id="JSbtnClick" class="custom-btn btn-1" onclick="python()">Python</button>
    <button id="C#btnClick" class="custom-btn btn-1" onclick="c()">C#</button>
    <button id="C++btnClick" class="custom-btn btn-1" onclick="cPlus()">C++</button>

    <div class="flex-container">
        <div id="CodeJS" class="keepFormatted flex-item-left">
function heap_sort(arr){
    var n = arr.length;
    for (var i = Math.floor(n / 2) - 1; i >= 0; i--)
        heapify(arr, n, i);
    for (var i = n - 1; i > 0; i--) {
        var temp = arr[0];
        arr[0] = arr[i];
        arr[i] = temp;

        heapify(arr, i, 0);
    }
}

function heapify(arr, n, i)
{
    var largest = i;
    var l = 2 * i + 1; // left = 2*i + 1
    var r = 2 * i + 2; // right = 2*i + 2

    if (l < n && arr[l] > arr[largest])
        largest = l;

    if (r < n && arr[r] > arr[largest])
        largest = r;

    if (largest != i) {
        var swap = arr[i];
        arr[i] = arr[largest];
        arr[largest] = swap;

        heapify(arr, n, largest);
    }
}
        </div>
    
        <div id="CodePy" style="display:none;" class="keepFormatted flex-item-left">
def heapify(arr, n, i):
    largest = i
    l = 2 * i + 1
    r = 2 * i + 2

    if l < n and arr[largest] < arr[l]:
        largest = l

    if r < n and arr[largest] < arr[r]:
        largest = r

    if largest != i:
        arr[i], arr[largest] = arr[largest], arr[i]
        heapify(arr, n, largest)
    
def heapSort(arr):
    n = len(arr)
    for i in range(n//2 - 1, -1, -1):
        heapify(arr, n, i)
    
    for i in range(n-1, 0, -1):
        arr[i], arr[0] = arr[0], arr[i]
        heapify(arr, i, 0)
        </div>
        
        <div id="CodeC#" style="display:none;" class="keepFormatted flex-item-left">
public void heap_sort(int[] arr)
{
    int n = arr.Length;
    for (int i = n / 2 - 1; i >= 0; i--)
        heapify(arr, n, i);

    for (int i = n - 1; i > 0; i--) {
        int temp = arr[0];
        arr[0] = arr[i];
        arr[i] = temp;

        heapify(arr, i, 0);
    }
}

void heapify(int[] arr, int n, int i)
{
    int largest = i;
    int l = 2 * i + 1;
    int r = 2 * i + 2;

    if (l < n && arr[l] > arr[largest])
        largest = l;

    if (r < n && arr[r] > arr[largest])
        largest = r;

    if (largest != i) {
        int swap = arr[i];
        arr[i] = arr[largest];
        arr[largest] = swap;
        heapify(arr, n, largest);
    }
}
        </div>
        <div id="CodeC++" style="display:none;" class="keepFormatted flex-item-left">
void heapify(int arr[], int n, int i)
{
    int largest = i;
    int l = 2 * i + 1;
    int r = 2 * i + 2;

    if (l < n && arr[l] > arr[largest])
        largest = l;
 
    if (r < n && arr[r] > arr[largest])
        largest = r;
 
    if (largest != i) {
        swap(arr[i], arr[largest]);
        heapify(arr, n, largest);
    }
}

void heapSort(int arr[], int n)
{
    for (int i = n / 2 - 1; i >= 0; i--)
        heapify(arr, n, i);
 
    for (int i = n - 1; i > 0; i--) {
        swap(arr[0], arr[i]);
        heapify(arr, i, 0);
    }
}
        </div>
        <div class="flex-item-right">
            Heap sort works by visualizing the elements of the array as a special kind of complete binary tree called a heap. Heap data structure - all nodes in the tree follow the property that they are greater than their children i.e. the largest element is at the root and both its children and smaller than the root and so on. Such a heap is called a max-heap. If instead, all nodes are smaller than their children, it is called a min-heap. First step is to build max heap. To build max heap, we use recursive function called heapify. Heapify swaps elements in the tree. How Heap Sort works - when the tree satisfies max heap property, then the largest item is stored at the root node; Swap: Remove the root element and put at the end of the array (nth position) Put the last item of the tree (heap) at the vacant place; Remove: Reduce the size of the heap by 1; Heapify: Heapify the root element again so that we have the highest element at root; The process is repeated until all the items of the list are sorted.
            <div>
                In all cases Heap Sort has time compelexity of O(nlog n).
            </div>
        </div>
    </div>
</body>
<script src="../../script.js"></script>
</html>